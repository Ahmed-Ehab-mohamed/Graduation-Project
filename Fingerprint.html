<!DOCTYPE html>
<html>
<head>
    <title>Fingerprint Recognition</title>
</head>
<body>
    <h1>Fingerprint Recognition</h1>
    <form action="{{ url_for('fingerprint') }}" method="post" enctype="multipart/form-data">
        <p>
            <input type="file" name="image">
        </p>
        <p>
            <input type="submit" value="Predict">
        </p>
    </form>
    <div id="result"></div>
    <script>
        function showResult(result) {
            document.getElementById('result').innerHTML =
                'Subject ID: ' + result.subject_id_predicted + '<br>' +
                'Finger Number: ' + result.finger_num_predicted + '<br>' +
                'Accuracy (Subject ID): ' + result.accuracy_subject_id + '<br>' +
                'Accuracy (Finger Number): ' + result.accuracy_finger_num + '<br>' +
                'Prisoner Name: ' + result.prisoner_name;
        }
        document.addEventListener('DOMContentLoaded', function() {
            var form = document.querySelector('form');
            form.addEventListener('submit', function(event) {
                event.preventDefault();
                var formData = new FormData(form);
                fetch(form.action, {
                    method: form.method,
                    body: formData
                }).then(function(response) {
                    return response.json();
                }).then(function(result) {
                    showResult(result);
                });
            });
        });
    </script>
</body>
</html>